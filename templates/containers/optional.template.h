struct optional_<typename> {
    bool has_value;
    <typename> value;
};

typedef struct optional_<typename> optional_<typename>;